(()=>{"use strict";var e={197:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(s(218)),n=a(s(688));t.default=class{constructor(){this.init=()=>{this.createLinksElements(),this.setLinks(),this.links&&this.links.forEach((e=>{e.addEventListener("click",n.default)}))},this.createLinksElements=()=>{(0,i.default)()},this.setLinks=()=>{this.links=document.querySelectorAll(".bibleVerse")}}}},560:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(s(688));t.default=class{constructor(e){this.parentElement=null,this.element=null,this.headerElement=null,this.contentElement=null,this.closeButtonElement=null,this.createElements=()=>{this.element=document.createElement("div"),this.headerElement=document.createElement("h3"),this.contentElement=document.createElement("p"),this.closeButtonElement=document.createElement("button"),this.element.classList.add("verseTooltip"),this.closeButtonElement.classList.add("close-button"),this.closeButtonElement.addEventListener("click",this.remove)},this.getTextContent=()=>this.element.textContent,this.setTooltipContent=e=>{this.contentElement.insertAdjacentHTML("beforeend",e)},this.setTooltipLeftPosition=()=>{let e=this.element.getBoundingClientRect();const t=document.documentElement.clientWidth;t-(e.width+e.x)<0&&(this.element.style.left=t-e.x-e.width+"px",this.element.style.left=Number(this.element.style.left)-10+"px")},this.show=()=>{this.parentElement.appendChild(this.element),this.element.appendChild(this.closeButtonElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.contentElement),this.setTooltipLeftPosition()},this.remove=()=>{this.parentElement.addEventListener("click",i.default),this.element.remove(),this.closeButtonElement.remove()},this.parentElement=e,this.createElements()}setTooltipHeader(e){this.headerElement.textContent=e}}},917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{e=e.trim();let t=null;switch(!0){case/^бы?т/i.test(e):t=1;break;case/^исх/i.test(e):t=2;break;case/^ле?в/i.test(e):t=3;break;case/^чи?с/i.test(e):t=4;break;case/^вт/i.test(e):t=5;break;case/^на?в/i.test(e):t=6;break;case/^су?д/i.test(e):t=7;break;case/^ру?ф/i.test(e):t=8;break;case/1\s?ц/i.test(e):t=9;break;case/2\s?ц/i.test(e):t=10;break;case/3\s?ц/i.test(e):t=11;break;case/4\s?ц/i.test(e):t=12;break;case/1\s?пар/i.test(e):t=13;break;case/2\s?пар/i.test(e):t=14;break;case/^ез/i.test(e):t=15;break;case/^не?е?м/i.test(e):t=16;break;case/^ес/i.test(e):t=17;break;case/^ио?в/i.test(e):t=18;break;case/^пс/i.test(e):t=19;break;case/^пр/i.test(e):t=20;break;case/^ек/i.test(e):t=21;break;case/^пес/i.test(e):t=22;break;case/^ис/i.test(e):t=23;break;case/^ие?р/i.test(e):t=24;break;case/^пл/i.test(e):t=25;break;case/^ие?з/i.test(e):t=26;break;case/^да?н/i.test(e):t=27;break;case/^ос/i.test(e):t=28;break;case/^ио?и?л/i.test(e):t=29;break;case/^ам/i.test(e):t=30;break;case/^авд/i.test(e):t=31;break;case/^ион/i.test(e):t=32;break;case/^ми?х/i.test(e):t=33;break;case/^наум/i.test(e):t=34;break;case/^авв/i.test(e):t=35;break;case/^со?ф/i.test(e):t=36;break;case/^аг/i.test(e):t=37;break;case/^за?х/i.test(e):t=38;break;case/^ма?л/i.test(e):t=39;break;case/^ма?т/i.test(e):t=40;break;case/^ма?р?к/i.test(e):t=41;break;case/^лу?к/i.test(e):t=42;break;case/^ио?а?н/i.test(e):t=43;break;case/^де?я?н/i.test(e):t=44;break;case/^рим?/i.test(e):t=45;break;case/^1\s?к/i.test(e):t=46;break;case/^2\s?к/i.test(e):t=47;break;case/^га?л/i.test(e):t=48;break;case/^еф/i.test(e):t=49;break;case/^фи?л?и?п/i.test(e):t=50;break;case/^ко?л/i.test(e):t=51;break;case/^1\s?ф/i.test(e):t=52;break;case/^2\s?ф/i.test(e):t=53;break;case/^1\s?т/i.test(e):t=54;break;case/^2т/i.test(e):t=55;break;case/^ти/i.test(e):t=56;break;case/^фи?л?и?м/i.test(e):t=57;break;case/^ев/i.test(e):t=58;break;case/^иа?к/i.test(e):t=59;break;case/^1\s?п/i.test(e):t=60;break;case/^2\s?п/i.test(e):t=61;break;case/^1\s?и/i.test(e):t=62;break;case/^2\s?и/i.test(e):t=63;break;case/^3\s?и/i.test(e):t=64;break;case/^иуды/i.test(e):t=65;break;case/отк/i.test(e):t=66;break;default:t=1}return t}},218:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e="p, h1, h2, h3, h4, h5, h6, li")=>{document.querySelectorAll(e).forEach((e=>{const t=e.innerHTML;e.innerHTML=t.replace(/(\d)?(\s)?[А-Яа-я]+(\.)?(\s)?\d+(:)\d+[\d\s:;,-]+(?<!\s\d\s?)/g,(e=>(document.createElement("div"),`<button class="bibleVerse">${e}</button>`)))}))}},979:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bibleBooksPatternWithoutTags=t.bibleBooksPattern=t.bibleVersesPattern=void 0,t.bibleVersesPattern=/\d+:[\d,\s?;.\-]+(?:[^:\d]|(?<=\d)(?![\d:]))/gm,t.bibleBooksPattern=/(\d)?(\s)?[А-Яа-я]+(\.)?(\s)?\d+(:)[\d\s:;,-]+/g,t.bibleBooksPatternWithoutTags=/(\d)?(\s)?[А-Яа-я]+(\.)?(\s)?\d+(:)[\d\s:;,-]+/g},688:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(979),n=a(s(917)),r=a(s(560)),l=e=>{const t=new r.default(e.target);t.parentElement.removeEventListener("click",l);const s=(0,n.default)(t.parentElement.textContent),a=t.parentElement.textContent.match(i.bibleVersesPattern);if(!a)return;const c=a.map((e=>{const[t]=e.split(":");return t}));a.map((e=>{const[t,s]=e.split(":");return s.replace(/[^\d,-]/g,"").split(",")})),((e,t)=>{const s=t.map((t=>fetch(`https://raw.githubusercontent.com/doctorrsm/rst/master/${e}/${t}.json`).then((e=>e.json()))));return Promise.all(s)})(s,c).then((e=>{t.setTooltipHeader(t.parentElement.textContent),t.show(),a.map(((s,i)=>{const[n,r]=s.split(":"),l=r.replace(/[^\d,-]/g,"").split(","),c=e.find((e=>e.chapter===Number(n)));l.forEach(((e,s)=>{if(-1===e.indexOf("-")&&-1===e.indexOf("—")){const s=Number(e)-1;t.setTooltipContent(`<sup>${c.verses[s].verse}</sup> ${c.verses[s].text} `)}else{const s=e.split(/[-—]/),a=Number(s[0]),i=Number(s[1]);for(let e=a;e<=i;e++){const s=e-1;t.setTooltipContent(`<sup>${c.verses[s].verse}</sup> ${c.verses[s].text} `)}}i!==a.length-1&&t.setTooltipContent("<hr>")}))}))}))};t.default=l},607:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),(new(a(s(197)).default)).init()}},t={};!function s(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,s),n.exports}(607)})();